<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{base}">
<title> CleverVision </title>
<head>
  <meta charset="utf-8">
  <link rel="stylesheet" href="css/editProfile.css?version=8">
</head>
<section style="margin-top:70px" layout:fragment="content">
  <div class="wrapper">
    <div class="profile-card js-profile-card">
      <div class="profile-card__img">
        <img src="img/etudiant.png" alt="profile card">
      </div>

      <div class="profile-card__cnt js-profile-cnt">
        <div class="profile-card__name" th:text="${user.getLogin()}"></div>
      </div>
      <hr>
      <div class="editProfile">
        <div class="container">

          <div class="row">
            <!-- edit form column -->
            <div class="col-md-9 personal-info">

              <h3>Personal info</h3>

              <form class="form-horizontal" method="post" role="form" action="/editProfile" th:object="${editProfileRequest}">
                <div class="form-group">
                  <br>
                  <label class="col-lg-3 control-label">Username:</label>
                  <br>
                  <div class="col-lg-8">
                    <br>
                    <input class="form-control" type="text" name="login" th:value="${user.getLogin()}" required>
                  </div>
                </div>

                <div class="form-group">
                  <br>
                  <label class="col-lg-3 control-label">Email:</label>
                  <div class="col-lg-8">
                    <input class="form-control" type="text" name="email" th:value="${user.getEmail()}" required>
                  </div>
                </div>
                <br>
                <div class="col-md-8">
                  <input type="submit"  value="Save Changes" class="btn btn-dark">
                  <span></span>
                  <input type="reset" class="btn btn-secondary" value="Cancel">
                </div>
              </form>

              <br>


              <div class="alert alert-danger" role="alert" th:if="${param.error1 != null}">
                Please Confirm your password
              </div>
              <div class="alert alert-danger" role="alert" th:if="${param.error != null}">
                Current password is incorrect
              </div>
              <br>
              <form class="form-horizontal" method="post" role="form" action="/ChangePasswordProfile" th:object="${ChangePasswordRequest}">
                <h3>Change password</h3>
                <div class="form-group">
                  <br>
                  <label class="col-md-3 control-label"> Current Password:</label>
                  <div class="col-md-8">
                    <input class="form-control" type="password" name="currentPassword" required >
                  </div>
                </div>
                <br>
                <div class="form-group">
                  <label class="col-md-3 control-label">New password:</label>
                  <div class="col-md-8">
                    <input class="form-control" type="password" name="newPassword" required >
                  </div>
                </div>
                <br>
                <div class="form-group">
                  <label class="col-md-3 control-label">Confirm new password:</label>
                  <div class="col-md-8">
                    <input class="form-control" type="password" name="confirmPassword" required  >
                  </div>
                </div>

                <div class="form-group">
                  <label class="col-md-3 control-label"></label>
                  <div class="col-md-8">

                    <input type="submit"  value="Save Changes" class="btn btn-dark">
                    <span></span>
                    <input type="reset" class="btn btn-secondary" value="Cancel">
                  </div>
                  <br>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
</section>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
</html>